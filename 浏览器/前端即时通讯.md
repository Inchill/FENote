### 前端如何进行即时通讯？

1. **短轮询**

原理：每隔一段时间客户端发送一个请求，去获取服务器最新的数据，一定程度上模拟实现了即时通讯。

- 优点：兼容性强，实现非常简单。
- 缺点：延迟性高，非常消耗请求资源，影响性能。

2. **comet**

comet有两种实现手段，一种是基于Ajax的长轮询，另一种是基于iframe及htmlfile的流方式，通常被叫做长连接。

长轮询优缺点：

- 优点：兼容性好，资源浪费较小
- 缺点：服务器维持连接会消耗资源，返回数据顺序无保证，难于管理维护。

长连接优缺点：

- 优点：兼容性好，消息及时到达，不发无用请求。
- 缺点：服务器维持长连接消耗资源。

3. **SSE(Server-sent Event, 服务器推送事件)**

是一种允许服务端向客户端推送新数据的HTML5技术。

- 优点：基于HTTP而生，因此不需太多改造就能使用，而websocket非常复杂，必须借助成熟的库或框架。
- 缺点：基于文本传输效率没有websocket高，不是严格的双向通信，客户端向服务端发送请求无法复用之前的连接，需要重新发出新的请求。

4. **WebSocket**

WebSocket是一个全新的、独立的的协议，基于TCP协议，与HTTP协议兼容、却不会融入HTTP协议。仅仅作为HTML5的一部分，其作用就是在服务端和客户端建立实时的双向通信。

- 优点：真正意义上的实时双向通信，性能好，延迟低。
- 缺点：独立于HTTP协议，因此需要额外的项目改造，使用复杂度高，必须引入成熟的库，无法兼容低版本浏览器。

5. **WebWorker**

Web Worker 的作用，就是为 JavaScript 创造多线程环境，允许主线程创建 Worker 线程，将一些任务分配给后者运行

6. **Services Workers**

Service workers 本质上充当Web应用程序与浏览器之间的代理服务器，也可以在网络可用时作为浏览器和网络间的代理，创建有效的离线体验。